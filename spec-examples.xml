<?xml version="1.0" encoding="UTF-8"?>
<tests>
   <test name="Level 1 Examples" level="1">
      <variables>
         <variable name="var">
            <string>value</string>
         </variable>
         <variable name="hello">
            <string>Hello World!</string>
         </variable>
      </variables>
      <testcases>
         <testcase template="{var}" result="value"/>
         <testcase template="{hello}" result="Hello%20World%21"/>
      </testcases>
   </test>
   <test name="Level 2 Examples" level="2">
      <variables>
         <variable name="var">
            <string>value</string>
         </variable>
         <variable name="hello">
            <string>Hello World!</string>
         </variable>
         <variable name="path">
            <string>/foo/bar</string>
         </variable>
      </variables>
      <testcases>
         <testcase template="{+var}" result="value"/>
         <testcase template="{+hello}" result="Hello%20World!"/>
         <testcase template="{+path}/here" result="/foo/bar/here"/>
         <testcase template="here?ref={+path}" result="here?ref=/foo/bar"/>
      </testcases>
   </test>
   <test name="Level 3 Examples" level="3">
      <variables>
         <variable name="var">
            <string>value</string>
         </variable>
         <variable name="hello">
            <string>Hello World!</string>
         </variable>
         <variable name="empty">
            <string/>
         </variable>
         <variable name="path">
            <string>/foo/bar</string>
         </variable>
         <variable name="x">
            <string>1024</string>
         </variable>
         <variable name="y">
            <string>768</string>
         </variable>
      </variables>
      <testcases>
         <testcase template="map?{x,y}" result="map?1024,768"/>
         <testcase template="{x,hello,y}" result="1024,Hello%20World%21,768"/>
         <testcase template="{+x,hello,y}" result="1024,Hello%20World!,768"/>
         <testcase template="{+path,x}/here" result="/foo/bar,1024/here"/>
         <testcase template="{#x,hello,y}" result="#1024,Hello%20World!,768"/>
         <testcase template="{#path,x}/here" result="#/foo/bar,1024/here"/>
         <testcase template="X{.var}" result="X.value"/>
         <testcase template="X{.x,y}" result="X.1024.768"/>
         <testcase template="{/var}" result="/value"/>
         <testcase template="{/var,x}/here" result="/value/1024/here"/>
         <testcase template="{;x,y}" result=";x=1024;y=768"/>
         <testcase template="{;x,y,empty}" result=";x=1024;y=768;empty"/>
         <testcase template="{?x,y}" result="?x=1024&amp;y=768"/>
         <testcase template="{?x,y,empty}" result="?x=1024&amp;y=768&amp;empty="/>
         <testcase template="?fixed=yes{&amp;x}" result="?fixed=yes&amp;x=1024"/>
         <testcase template="{&amp;x,y,empty}" result="&amp;x=1024&amp;y=768&amp;empty="/>
      </testcases>
   </test>
   <test name="Level 4 Examples" level="4">
      <variables>
         <variable name="var">
            <string>value</string>
         </variable>
         <variable name="hello">
            <string>Hello World!</string>
         </variable>
         <variable name="path">
            <string>/foo/bar</string>
         </variable>
         <variable name="list">
            <array>
               <string>red</string>
               <string>green</string>
               <string>blue</string>
            </array>
         </variable>
         <variable name="keys">
            <object>
               <field name="semi">
                  <string>;</string>
               </field>
               <field name="dot">
                  <string>.</string>
               </field>
               <field name="comma">
                  <string>,</string>
               </field>
            </object>
         </variable>
      </variables>
      <testcases>
         <testcase template="{var:3}" result="val"/>
         <testcase template="{var:30}" result="value"/>
         <testcase template="{list}" result="red,green,blue"/>
         <testcase template="{list*}" result="red,green,blue"/>
         <testcase template="{keys}"
                   result="comma,%2C,dot,.,semi,%3Bcomma,%2C,semi,%3B,dot,.dot,.,comma,%2C,semi,%3Bdot,.,semi,%3B,comma,%2Csemi,%3B,comma,%2C,dot,.semi,%3B,dot,.,comma,%2C"/>
         <testcase template="{keys*}"
                   result="comma=%2C,dot=.,semi=%3Bcomma=%2C,semi=%3B,dot=.dot=.,comma=%2C,semi=%3Bdot=.,semi=%3B,comma=%2Csemi=%3B,comma=%2C,dot=.semi=%3B,dot=.,comma=%2C"/>
         <testcase template="{+path:6}/here" result="/foo/b/here"/>
         <testcase template="{+list}" result="red,green,blue"/>
         <testcase template="{+list*}" result="red,green,blue"/>
         <testcase template="{+keys}"
                   result="comma,,,dot,.,semi,;comma,,,semi,;,dot,.dot,.,comma,,,semi,;dot,.,semi,;,comma,,semi,;,comma,,,dot,.semi,;,dot,.,comma,,"/>
         <testcase template="{+keys*}"
                   result="comma=,,dot=.,semi=;comma=,,semi=;,dot=.dot=.,comma=,,semi=;dot=.,semi=;,comma=,semi=;,comma=,,dot=.semi=;,dot=.,comma=,"/>
         <testcase template="{#path:6}/here" result="#/foo/b/here"/>
         <testcase template="{#list}" result="#red,green,blue"/>
         <testcase template="{#list*}" result="#red,green,blue"/>
         <testcase template="{#keys}"
                   result="#comma,,,dot,.,semi,;#comma,,,semi,;,dot,.#dot,.,comma,,,semi,;#dot,.,semi,;,comma,,#semi,;,comma,,,dot,.#semi,;,dot,.,comma,,"/>
         <testcase template="{#keys*}"
                   result="#comma=,,dot=.,semi=;#comma=,,semi=;,dot=.#dot=.,comma=,,semi=;#dot=.,semi=;,comma=,#semi=;,comma=,,dot=.#semi=;,dot=.,comma=,"/>
         <testcase template="X{.var:3}" result="X.val"/>
         <testcase template="X{.list}" result="X.red,green,blue"/>
         <testcase template="X{.list*}" result="X.red.green.blue"/>
         <testcase template="X{.keys}"
                   result="X.comma,%2C,dot,.,semi,%3BX.comma,%2C,semi,%3B,dot,.X.dot,.,comma,%2C,semi,%3BX.dot,.,semi,%3B,comma,%2CX.semi,%3B,comma,%2C,dot,.X.semi,%3B,dot,.,comma,%2C"/>
         <testcase template="{/var:1,var}" result="/v/value"/>
         <testcase template="{/list}" result="/red,green,blue"/>
         <testcase template="{/list*}" result="/red/green/blue"/>
         <testcase template="{/list*,path:4}" result="/red/green/blue/%2Ffoo"/>
         <testcase template="{/keys}"
                   result="/comma,%2C,dot,.,semi,%3B/comma,%2C,semi,%3B,dot,./dot,.,comma,%2C,semi,%3B/dot,.,semi,%3B,comma,%2C/semi,%3B,comma,%2C,dot,./semi,%3B,dot,.,comma,%2C"/>
         <testcase template="{/keys*}"
                   result="/comma=%2C/dot=./semi=%3B/comma=%2C/semi=%3B/dot=./dot=./comma=%2C/semi=%3B/dot=./semi=%3B/comma=%2C/semi=%3B/comma=%2C/dot=./semi=%3B/dot=./comma=%2C"/>
         <testcase template="{;hello:5}" result=";hello=Hello"/>
         <testcase template="{;list}" result=";list=red,green,blue"/>
         <testcase template="{;list*}" result=";list=red;list=green;list=blue"/>
         <testcase template="{;keys}"
                   result=";keys=comma,%2C,dot,.,semi,%3B;keys=comma,%2C,semi,%3B,dot,.;keys=dot,.,comma,%2C,semi,%3B;keys=dot,.,semi,%3B,comma,%2C;keys=semi,%3B,comma,%2C,dot,.;keys=semi,%3B,dot,.,comma,%2C"/>
         <testcase template="{;keys*}"
                   result=";comma=%2C;dot=.;semi=%3B;comma=%2C;semi=%3B;dot=.;dot=.;comma=%2C;semi=%3B;dot=.;semi=%3B;comma=%2C;semi=%3B;comma=%2C;dot=.;semi=%3B;dot=.;comma=%2C"/>
         <testcase template="{?var:3}" result="?var=val"/>
         <testcase template="{?list}" result="?list=red,green,blue"/>
         <testcase template="{?list*}" result="?list=red&amp;list=green&amp;list=blue"/>
         <testcase template="{?keys}"
                   result="?keys=comma,%2C,dot,.,semi,%3B?keys=comma,%2C,semi,%3B,dot,.?keys=dot,.,comma,%2C,semi,%3B?keys=dot,.,semi,%3B,comma,%2C?keys=semi,%3B,comma,%2C,dot,.?keys=semi,%3B,dot,.,comma,%2C"/>
         <testcase template="{?keys*}"
                   result="?comma=%2C&amp;dot=.&amp;semi=%3B?comma=%2C&amp;semi=%3B&amp;dot=.?dot=.&amp;comma=%2C&amp;semi=%3B?dot=.&amp;semi=%3B&amp;comma=%2C?semi=%3B&amp;comma=%2C&amp;dot=.?semi=%3B&amp;dot=.&amp;comma=%2C"/>
         <testcase template="{&amp;var:3}" result="&amp;var=val"/>
         <testcase template="{&amp;list}" result="&amp;list=red,green,blue"/>
         <testcase template="{&amp;list*}" result="&amp;list=red&amp;list=green&amp;list=blue"/>
         <testcase template="{&amp;keys}"
                   result="&amp;keys=comma,%2C,dot,.,semi,%3B&amp;keys=comma,%2C,semi,%3B,dot,.&amp;keys=dot,.,comma,%2C,semi,%3B&amp;keys=dot,.,semi,%3B,comma,%2C&amp;keys=semi,%3B,comma,%2C,dot,.&amp;keys=semi,%3B,dot,.,comma,%2C"/>
         <testcase template="{&amp;keys*}"
                   result="&amp;comma=%2C&amp;dot=.&amp;semi=%3B&amp;comma=%2C&amp;semi=%3B&amp;dot=.&amp;dot=.&amp;comma=%2C&amp;semi=%3B&amp;dot=.&amp;semi=%3B&amp;comma=%2C&amp;semi=%3B&amp;comma=%2C&amp;dot=.&amp;semi=%3B&amp;dot=.&amp;comma=%2C"/>
      </testcases>
   </test>
</tests>
